{"version":3,"sources":["webpack:///js/activation.5b60b9e6.chunk.js","webpack:///./src/shared/api/WebApi.ts","webpack:///./env.js","webpack:///./src/shared/entries/activation.tsx","webpack:///./src/shared/api/Auth.ts","webpack:///delegated ../node_modules/react-router/es/index.js from dll-reference venders_ebc95eaf","webpack:///delegated ../node_modules/webpack/buildin/global.js from dll-reference venders_ebc95eaf","webpack:///delegated ../node_modules/react-document-meta/dist/index.js from dll-reference venders_ebc95eaf","webpack:///delegated ../src/shared/element-react/next.js from dll-reference venders_ebc95eaf","webpack:///./src/shared/views/activation/index.tsx","webpack:///./src/shared/views/activation/styles/index.less?7677","webpack:///./src/shared/utils/TextKit.js","webpack:///delegated ../node_modules/axios/index.js from dll-reference venders_ebc95eaf"],"names":["webpackJsonp","0lwj","module","exports","__webpack_require__","global","webApi","httpMethod","path","params","startsWith","substring","csrfToken","window","headers","Accept","Content-type","FormData","_axios2","default","create","baseURL","timeout","withCredentials","request","url","method","toLowerCase","data","validateStatus","status","then","resp","_env","IS_PROD","console","dir","catch","error","webApiGet","webApiPost","webApiDel","webApiPut","Object","defineProperty","value","_axios","obj","__esModule","Get","Post","Put","Delete","call","77eN","IS_NODE","API_BASE","SSR_SERVER_HOST","SSR_SERVER_PORT","SESSION_COOKIE_NAME","945i","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","React","newObj","hasOwnProperty","_activation","_activation2","NotFound","_React$Component","this","getPrototypeOf","apply","arguments","createElement","Component","STORE_CLASSES","C/VJ","Login","payload","_WebApi2","Register","Logout","WhoAmI","Activate","tokenSearch","ReActivate","_WebApi","CIox","DuR2","K7g+","SThF","WYFf","_interopRequireDefault","ActivateSteps","_classnames","_classnames2","_reactDocumentMeta","_reactDocumentMeta2","_reactRouter","_Auth","_next","_TextKit","styles","ACTIVATING","ACTIVATED","ACTIVATE_FAILED","REACTIVATE","ActivationView","_this","onInputEmail","email","setState","onSwitchStep","step","reSendMail","state","isEmail","Error","Message","message","type","renderActivatingStep","className","content","activating","renderActivatedStep","_this$state","timing","activated","renderActivateFailStep","activateFailed","Button","onClick","bind","renderReActivateStep","_this$state2","reActivate","Input","placeholder","onChange","emailInput","disabled","_this2","search","location","that","setInterval","href","meta","title","description","charset","name","keywords","activationView","assign","container","ActivationViewWithRouter","withRouter","d96U","hQ/K","toString","RegExp","test","lowerCaseFirst","str","slice","mtWM"],"mappings":"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","file":"js/activation.5b60b9e6.chunk.js","sourcesContent":["/*!\n * Generated on Wed Oct 18 2017 21:24:31 GMT+0800 (CST)\n * \n * Copyright 2017-present, WuXueqian. All rights reserved.\n * \n * @package   elune-www\n * @version   v0.0.1\n * @author    wuxueqian <wuxueqian2010@hotmail.com>\n * @site      Elune <elune.me>\n * @license   https://opensource.org/licenses/gpl-3.0.html GPL v3\n * \n */\nwebpackJsonp([6],{\n\n/***/ \"0lwj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.webApiGet = webApiGet;\nexports.webApiPost = webApiPost;\nexports.webApiDel = webApiDel;\nexports.webApiPut = webApiPut;\n\nvar _env = __webpack_require__(\"77eN\");\n\nvar _axios = __webpack_require__(\"mtWM\");\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction webApi(httpMethod, path, params) {\n    path = path.startsWith(\"/\") ? path.substring(1) : path;\n\n    var csrfToken = typeof window !== \"undefined\" ? window[\"csrfToken\"] : global[\"csrfToken\"];\n\n    var headers = {\n        Accept: \"application/json\",\n        \"Content-type\": typeof FormData !== \"undefined\" && params instanceof FormData ? \"multipart/form-data\" : \"application/json\"\n    };\n    if (csrfToken) {\n        headers[\"X-CSRF-Token\"] = csrfToken;\n    }\n\n    var ax = _axios2.default.create({\n        baseURL: _env.API_BASE,\n        timeout: 60000,\n        withCredentials: true,\n        headers: headers\n    });\n    return ax.request({\n        url: path,\n        method: httpMethod,\n        params: httpMethod.toLowerCase() === \"get\" ? params : null,\n        data: httpMethod.toLowerCase() !== \"get\" ? params : null,\n        validateStatus: function validateStatus(status) {\n            return status >= 200 && status < 300;\n        }\n    }).then(function (resp) {\n        if (!_env.IS_PROD) {\n            console.dir(resp);\n        }\n        return resp.data;\n    }).catch(function (error) {\n        if (!_env.IS_PROD) {\n            console.dir(error);\n        }\n        throw error;\n    });\n}\nfunction webApiGet(path, params) {\n    return webApi(\"get\", path, params);\n}\nfunction webApiPost(path, params) {\n    return webApi(\"post\", path, params);\n}\nfunction webApiDel(path, params) {\n    return webApi(\"delete\", path, params);\n}\nfunction webApiPut(path, params) {\n    return webApi(\"put\", path, params);\n}\nexports.default = {\n    Get: webApiGet,\n    Post: webApiPost,\n    Put: webApiPut,\n    Delete: webApiDel\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"DuR2\")))\n\n/***/ }),\n\n/***/ \"77eN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nexports.__esModule = true;\nexports.IS_PROD = \"production\" === \"production\";\nexports.IS_NODE = typeof global !== \"undefined\" && typeof window === \"undefined\";\nexports.API_BASE = exports.IS_PROD && !exports.IS_NODE ? \"https://elune.fuli.news/api/v1/\" : \"http://127.0.0.1:9000/api/v1/\";\n\nexports.SSR_SERVER_HOST = exports.IS_PROD ? \"127.0.0.1\" : \"127.0.0.1\";\nexports.SSR_SERVER_PORT = exports.IS_PROD ? 9002 : 9002;\nexports.SESSION_COOKIE_NAME = \"SESSIONID\";\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"DuR2\")))\n\n/***/ }),\n\n/***/ \"945i\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(\"GiK3\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _activation = __webpack_require__(\"WYFf\");\n\nvar _activation2 = _interopRequireDefault(_activation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NotFound = function (_React$Component) {\n    _inherits(NotFound, _React$Component);\n\n    function NotFound() {\n        _classCallCheck(this, NotFound);\n\n        return _possibleConstructorReturn(this, (NotFound.__proto__ || Object.getPrototypeOf(NotFound)).apply(this, arguments));\n    }\n\n    _createClass(NotFound, [{\n        key: \"render\",\n        value: function render() {\n            return React.createElement(_activation2.default, null);\n        }\n    }]);\n\n    return NotFound;\n}(React.Component);\n\nexports.default = NotFound;\n\nNotFound.STORE_CLASSES = [];\n\n/***/ }),\n\n/***/ \"C/VJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Login = Login;\nexports.Register = Register;\nexports.Logout = Logout;\nexports.WhoAmI = WhoAmI;\nexports.Activate = Activate;\nexports.ReActivate = ReActivate;\n\nvar _WebApi = __webpack_require__(\"0lwj\");\n\nvar _WebApi2 = _interopRequireDefault(_WebApi);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Login(payload) {\n    return _WebApi2.default.Post(\"signin\", payload);\n}\nfunction Register(payload) {\n    return _WebApi2.default.Post(\"signup\", payload);\n}\nfunction Logout() {\n    return _WebApi2.default.Post(\"signout\", {});\n}\nfunction WhoAmI() {\n    return _WebApi2.default.Post(\"user/me\", {});\n}\nfunction Activate(payload) {\n    return _WebApi2.default.Post(\"activate\" + payload.tokenSearch, {});\n}\nfunction ReActivate(payload) {\n    return _WebApi2.default.Post(\"reactivate\", payload);\n}\nexports.default = {\n    Login: Login,\n    Register: Register,\n    Logout: Logout\n};\n\n/***/ }),\n\n/***/ \"CIox\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = (__webpack_require__(\"ILXe\"))(512);\n\n/***/ }),\n\n/***/ \"DuR2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = (__webpack_require__(\"ILXe\"))(72);\n\n/***/ }),\n\n/***/ \"K7g+\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = (__webpack_require__(\"ILXe\"))(270);\n\n/***/ }),\n\n/***/ \"SThF\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = (__webpack_require__(\"ILXe\"))(283);\n\n/***/ }),\n\n/***/ \"WYFf\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(\"GiK3\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _classnames = __webpack_require__(\"HW6M\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactDocumentMeta = __webpack_require__(\"K7g+\");\n\nvar _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);\n\nvar _reactRouter = __webpack_require__(\"CIox\");\n\nvar _Auth = __webpack_require__(\"C/VJ\");\n\nvar _next = __webpack_require__(\"SThF\");\n\nvar _TextKit = __webpack_require__(\"hQ/K\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar styles = __webpack_require__(\"d96U\");\nvar ActivateSteps;\n(function (ActivateSteps) {\n    ActivateSteps[ActivateSteps[\"ACTIVATING\"] = 0] = \"ACTIVATING\";\n    ActivateSteps[ActivateSteps[\"ACTIVATED\"] = 1] = \"ACTIVATED\";\n    ActivateSteps[ActivateSteps[\"ACTIVATE_FAILED\"] = 2] = \"ACTIVATE_FAILED\";\n    ActivateSteps[ActivateSteps[\"REACTIVATE\"] = 3] = \"REACTIVATE\";\n})(ActivateSteps || (ActivateSteps = {}));\n\nvar ActivationView = function (_React$Component) {\n    _inherits(ActivationView, _React$Component);\n\n    function ActivationView(props) {\n        _classCallCheck(this, ActivationView);\n\n        var _this = _possibleConstructorReturn(this, (ActivationView.__proto__ || Object.getPrototypeOf(ActivationView)).call(this, props));\n\n        _this.onInputEmail = function (email) {\n            _this.setState({\n                email: email\n            });\n        };\n        _this.onSwitchStep = function (step) {\n            _this.setState({\n                step: step\n            });\n        };\n        _this.reSendMail = function () {\n            var email = _this.state.email;\n\n            if (!email) {\n                (0, _next.Message)({\n                    message: \"邮箱不能为空\",\n                    type: \"error\"\n                });\n                return false;\n            }\n            if (!(0, _TextKit.isEmail)(email)) {\n                (0, _next.Message)({\n                    message: \"邮箱不合法\",\n                    type: \"error\"\n                });\n                return false;\n            }\n            (0, _Auth.ReActivate)({ email: email }).then(function (resp) {\n                if (resp) {\n                    (0, _next.Message)({\n                        message: \"激活邮件已重新发送\",\n                        type: \"success\"\n                    });\n                    _this.setState({\n                        email: \"\"\n                    });\n                } else {\n                    throw new Error(\"\");\n                }\n            }).catch(function () {\n                (0, _next.Message)({\n                    message: \"请求失败，请重试\",\n                    type: \"error\"\n                });\n            });\n        };\n        _this.renderActivatingStep = function () {\n            var step = _this.state.step;\n\n            if (step !== ActivateSteps.ACTIVATING) {\n                return null;\n            }\n            return React.createElement(\"div\", { className: styles.content }, React.createElement(\"div\", { className: styles.activating }, React.createElement(\"i\", { className: \"el-icon-loading\" }), React.createElement(\"p\", null, \"\\u6B63\\u5728\\u5C1D\\u8BD5\\u6FC0\\u6D3B\")));\n        };\n        _this.renderActivatedStep = function () {\n            var _this$state = _this.state,\n                step = _this$state.step,\n                timing = _this$state.timing;\n\n            if (step !== ActivateSteps.ACTIVATED) {\n                return null;\n            }\n            return React.createElement(\"div\", { className: styles.content }, React.createElement(\"div\", { className: styles.activated }, React.createElement(\"p\", null, \"\\u60A8\\u7684\\u8D26\\u6237\\u5DF2\\u6FC0\\u6D3B\\u6210\\u529F\\uFF0C\\u5C06\\u5728\", React.createElement(\"span\", { className: styles.timing }, timing), \"\\u79D2\\u5185\\u8DF3\\u8F6C\\u81F3\\u9996\\u9875.\")));\n        };\n        _this.renderActivateFailStep = function () {\n            var step = _this.state.step;\n\n            if (step !== ActivateSteps.ACTIVATE_FAILED) {\n                return null;\n            }\n            return React.createElement(\"div\", { className: styles.content }, React.createElement(\"div\", { className: styles.activateFailed }, React.createElement(\"p\", null, \"\\u6FC0\\u6D3B\\u5931\\u8D25\\uFF0C\\u60A8\\u7684\\u94FE\\u63A5\\u5DF2\\u8FC7\\u671F\\u6216\\u65E0\\u6548\"), React.createElement(_next.Button, { type: \"text\", onClick: _this.onSwitchStep.bind(_this, ActivateSteps.REACTIVATE) }, \"\\u91CD\\u65B0\\u53D1\\u9001\\u6FC0\\u6D3B\\u90AE\\u4EF6\")));\n        };\n        _this.renderReActivateStep = function () {\n            var _this$state2 = _this.state,\n                step = _this$state2.step,\n                email = _this$state2.email;\n\n            if (step !== ActivateSteps.REACTIVATE) {\n                return null;\n            }\n            return React.createElement(\"div\", { className: styles.content }, React.createElement(\"div\", { className: styles.reActivate }, React.createElement(_next.Input, { placeholder: \"输入账户邮箱\", value: email, onChange: _this.onInputEmail, className: styles.emailInput }), React.createElement(_next.Button, { type: \"primary\", onClick: _this.reSendMail, disabled: !(0, _TextKit.isEmail)(email) }, \"\\u91CD\\u65B0\\u53D1\\u9001\")));\n        };\n        _this.state = {\n            timing: 10,\n            step: ActivateSteps.ACTIVATING,\n            email: \"\"\n        };\n        return _this;\n    }\n\n    _createClass(ActivationView, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            var search = this.props.location.search;\n\n            (0, _Auth.Activate)({ tokenSearch: search }).then(function (resp) {\n                if (resp) {\n                    _this2.setState({\n                        step: ActivateSteps.ACTIVATED\n                    });\n                    var that = _this2;\n                    setInterval(function () {\n                        that.setState({\n                            timing: that.state.timing - 1\n                        });\n                    }, 1000);\n                } else {\n                    throw new Error(\"\");\n                }\n            }).catch(function () {\n                (0, _next.Message)({\n                    message: \"账户激活失败, 您的激活链接已过期或无效\",\n                    type: \"error\"\n                });\n                _this2.setState({\n                    step: ActivateSteps.ACTIVATE_FAILED\n                });\n            });\n        }\n    }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n            var timing = this.state.timing;\n\n            if (timing <= 0 && typeof window !== \"undefined\") {\n                window.location.href = \"/\";\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var meta = {\n                title: \"账户激活-Eleun Forum-Web development community,WordPress,PHP,Java,JavaScript\",\n                description: \"I am a description, and I can create multiple tags\",\n                meta: {\n                    charset: \"utf-8\",\n                    name: {\n                        keywords: \"Eleun,forum,wordpress,php,java,javascript,react\"\n                    }\n                }\n            };\n            return React.createElement(\"div\", { className: styles.activationView }, React.createElement(_reactDocumentMeta2.default, Object.assign({}, meta)), React.createElement(\"div\", { className: (0, _classnames2.default)(\"container\", [styles.container]) }, React.createElement(\"h1\", null, \"\\u8D26\\u6237\\u6FC0\\u6D3B\"), this.renderActivatingStep(), this.renderActivatedStep(), this.renderActivateFailStep(), this.renderReActivateStep()));\n        }\n    }]);\n\n    return ActivationView;\n}(React.Component);\n\nvar ActivationViewWithRouter = (0, _reactRouter.withRouter)(ActivationView);\nexports.default = ActivationViewWithRouter;\n\n/***/ }),\n\n/***/ \"d96U\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"activationView\":\"__2sjBU\",\"container\":\"__2-g1p\",\"content\":\"__3BORl\",\"activating\":\"__o5IRt\",\"activated\":\"__3fcij\",\"timing\":\"__3g1jb\",\"activateFailed\":\"__1GYF1\",\"reActivate\":\"__R8Br_\",\"emailInput\":\"__25YuQ\"};\n\n/***/ }),\n\n/***/ \"hQ/K\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports.isEmail = function (email) {\n    email = email ? email.toString() : \"\";\n    var reg = new RegExp(/[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}/);\n    return reg.test(email);\n};\nexports.lowerCaseFirst = function (str) {\n    if (!str) {\n        return str;\n    }\n    return str[0].toLowerCase() + str.slice(1);\n};\n\n/***/ }),\n\n/***/ \"mtWM\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = (__webpack_require__(\"ILXe\"))(740);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/activation.5b60b9e6.chunk.js","import { API_BASE, IS_PROD } from \"../../../env\";\nimport axios from \"axios\";\n// import GlobalStore from \"store/GlobalStore\";\n// import { SESSION_COOKIE_NAME } from \"../../../env\";\n// axios.defaults.withCredentials = true;\nfunction webApi(httpMethod, path, params) {\n    path = path.startsWith(\"/\") ? path.substring(1) : path;\n    /* tslint:disable */\n    const csrfToken = typeof window !== \"undefined\"\n        ? window[\"csrfToken\"]\n        : global[\"csrfToken\"];\n    /* tslint:enable */\n    const headers = {\n        Accept: \"application/json\",\n        \"Content-type\": typeof FormData !== \"undefined\" && params instanceof FormData\n            ? \"multipart/form-data\"\n            : \"application/json\"\n    };\n    if (csrfToken) {\n        headers[\"X-CSRF-Token\"] = csrfToken;\n    }\n    // if (GlobalStore.Instance.Cookies) {\n    //     headers.Cookie = GlobalStore.Instance.Cookies;\n    // }\n    // console.log(`HEADERS for axios: ${JSON.stringify(headers)}`);\n    const ax = axios.create({\n        baseURL: API_BASE,\n        timeout: 60000,\n        withCredentials: true,\n        headers\n    });\n    return ax\n        .request({\n        url: path,\n        method: httpMethod,\n        params: httpMethod.toLowerCase() === \"get\" ? params : null,\n        data: httpMethod.toLowerCase() !== \"get\" ? params : null,\n        validateStatus: function (status) {\n            return status >= 200 && status < 300; // default\n        }\n    })\n        .then(resp => {\n        if (!IS_PROD) {\n            console.dir(resp);\n        }\n        return resp.data;\n    })\n        .catch(error => {\n        if (!IS_PROD) {\n            console.dir(error);\n        }\n        throw error;\n    });\n}\nexport function webApiGet(path, params) {\n    return webApi(\"get\", path, params);\n}\nexport function webApiPost(path, params) {\n    return webApi(\"post\", path, params);\n}\nexport function webApiDel(path, params) {\n    return webApi(\"delete\", path, params);\n}\nexport function webApiPut(path, params) {\n    return webApi(\"put\", path, params);\n}\nexport default {\n    Get: webApiGet,\n    Post: webApiPost,\n    Put: webApiPut,\n    Delete: webApiDel\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/api/WebApi.ts","\"use strict\";\nexports.__esModule = true;\nexports.IS_PROD = process.env.NODE_ENV === \"production\";\nexports.IS_NODE = typeof global !== \"undefined\" && typeof window === \"undefined\";\nexports.API_BASE = exports.IS_PROD && !exports.IS_NODE\n    ? \"https://elune.fuli.news/api/v1/\"\n    : \"http://127.0.0.1:9000/api/v1/\";\n// SSR Server\nexports.SSR_SERVER_HOST = exports.IS_PROD ? \"127.0.0.1\" : \"127.0.0.1\";\nexports.SSR_SERVER_PORT = exports.IS_PROD ? 9002 : 9002;\nexports.SESSION_COOKIE_NAME = \"SESSIONID\";\n\n\n\n// WEBPACK FOOTER //\n// ./env.js","import * as React from \"react\";\nimport ActivationView from \"views/activation\";\nexport default class NotFound extends React.Component {\n    render() {\n        return React.createElement(ActivationView, null);\n    }\n}\n// SSR 在入口组件中获知Store类并初始化用于实例注入\nNotFound.STORE_CLASSES = [];\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/entries/activation.tsx","import WebApi from \"api/WebApi\";\nexport function Login(payload) {\n    return WebApi.Post(\"signin\", payload);\n}\nexport function Register(payload) {\n    return WebApi.Post(\"signup\", payload);\n}\nexport function Logout() {\n    return WebApi.Post(\"signout\", {});\n}\nexport function WhoAmI() {\n    return WebApi.Post(\"user/me\", {});\n}\nexport function Activate(payload) {\n    return WebApi.Post(`activate${payload.tokenSearch}`, {});\n}\nexport function ReActivate(payload) {\n    return WebApi.Post(\"reactivate\", payload);\n}\nexport default {\n    Login,\n    Register,\n    Logout\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/api/Auth.ts","module.exports = (__webpack_require__(\"ILXe\"))(512);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ../node_modules/react-router/es/index.js from dll-reference venders_ebc95eaf\n// module id = CIox\n// module chunks = 0 1 2 3 4 5 6","module.exports = (__webpack_require__(\"ILXe\"))(72);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ../node_modules/webpack/buildin/global.js from dll-reference venders_ebc95eaf\n// module id = DuR2\n// module chunks = 0 1 2 3 4 5 6 7 8","module.exports = (__webpack_require__(\"ILXe\"))(270);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ../node_modules/react-document-meta/dist/index.js from dll-reference venders_ebc95eaf\n// module id = K7g+\n// module chunks = 0 1 2 3 5 6 9","module.exports = (__webpack_require__(\"ILXe\"))(283);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ../src/shared/element-react/next.js from dll-reference venders_ebc95eaf\n// module id = SThF\n// module chunks = 0 1 2 3 4 5 6","import * as React from \"react\";\nimport ClassNames from \"classnames\";\nimport DocumentMeta from \"react-document-meta\";\nimport { withRouter } from \"react-router\";\nimport { Activate, ReActivate } from \"api/Auth\";\nimport { Message, Input, Button } from \"element-react/next\";\nimport { isEmail } from \"utils/TextKit\";\nconst styles = require(\"./styles/index.less\");\nvar ActivateSteps;\n(function (ActivateSteps) {\n    ActivateSteps[ActivateSteps[\"ACTIVATING\"] = 0] = \"ACTIVATING\";\n    ActivateSteps[ActivateSteps[\"ACTIVATED\"] = 1] = \"ACTIVATED\";\n    ActivateSteps[ActivateSteps[\"ACTIVATE_FAILED\"] = 2] = \"ACTIVATE_FAILED\";\n    ActivateSteps[ActivateSteps[\"REACTIVATE\"] = 3] = \"REACTIVATE\";\n})(ActivateSteps || (ActivateSteps = {}));\nclass ActivationView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onInputEmail = (email) => {\n            this.setState({\n                email\n            });\n        };\n        this.onSwitchStep = (step) => {\n            this.setState({\n                step\n            });\n        };\n        this.reSendMail = () => {\n            const { email } = this.state;\n            if (!email) {\n                Message({\n                    message: \"邮箱不能为空\",\n                    type: \"error\"\n                });\n                return false;\n            }\n            if (!isEmail(email)) {\n                Message({\n                    message: \"邮箱不合法\",\n                    type: \"error\"\n                });\n                return false;\n            }\n            ReActivate({ email })\n                .then(resp => {\n                if (resp) {\n                    Message({\n                        message: \"激活邮件已重新发送\",\n                        type: \"success\"\n                    });\n                    this.setState({\n                        email: \"\"\n                    });\n                }\n                else {\n                    throw new Error(\"\");\n                }\n            })\n                .catch(() => {\n                Message({\n                    message: \"请求失败，请重试\",\n                    type: \"error\"\n                });\n            });\n        };\n        this.renderActivatingStep = () => {\n            const { step } = this.state;\n            if (step !== ActivateSteps.ACTIVATING) {\n                return null;\n            }\n            return (React.createElement(\"div\", { className: styles.content },\n                React.createElement(\"div\", { className: styles.activating },\n                    React.createElement(\"i\", { className: \"el-icon-loading\" }),\n                    React.createElement(\"p\", null, \"\\u6B63\\u5728\\u5C1D\\u8BD5\\u6FC0\\u6D3B\"))));\n        };\n        this.renderActivatedStep = () => {\n            const { step, timing } = this.state;\n            if (step !== ActivateSteps.ACTIVATED) {\n                return null;\n            }\n            return (React.createElement(\"div\", { className: styles.content },\n                React.createElement(\"div\", { className: styles.activated },\n                    React.createElement(\"p\", null,\n                        \"\\u60A8\\u7684\\u8D26\\u6237\\u5DF2\\u6FC0\\u6D3B\\u6210\\u529F\\uFF0C\\u5C06\\u5728\",\n                        React.createElement(\"span\", { className: styles.timing }, timing),\n                        \"\\u79D2\\u5185\\u8DF3\\u8F6C\\u81F3\\u9996\\u9875.\"))));\n        };\n        this.renderActivateFailStep = () => {\n            const { step } = this.state;\n            if (step !== ActivateSteps.ACTIVATE_FAILED) {\n                return null;\n            }\n            return (React.createElement(\"div\", { className: styles.content },\n                React.createElement(\"div\", { className: styles.activateFailed },\n                    React.createElement(\"p\", null, \"\\u6FC0\\u6D3B\\u5931\\u8D25\\uFF0C\\u60A8\\u7684\\u94FE\\u63A5\\u5DF2\\u8FC7\\u671F\\u6216\\u65E0\\u6548\"),\n                    React.createElement(Button, { type: \"text\", onClick: this.onSwitchStep.bind(this, ActivateSteps.REACTIVATE) }, \"\\u91CD\\u65B0\\u53D1\\u9001\\u6FC0\\u6D3B\\u90AE\\u4EF6\"))));\n        };\n        this.renderReActivateStep = () => {\n            const { step, email } = this.state;\n            if (step !== ActivateSteps.REACTIVATE) {\n                return null;\n            }\n            return (React.createElement(\"div\", { className: styles.content },\n                React.createElement(\"div\", { className: styles.reActivate },\n                    React.createElement(Input, { placeholder: \"输入账户邮箱\", value: email, onChange: this.onInputEmail, className: styles.emailInput }),\n                    React.createElement(Button, { type: \"primary\", onClick: this.reSendMail, disabled: !isEmail(email) }, \"\\u91CD\\u65B0\\u53D1\\u9001\"))));\n        };\n        this.state = {\n            timing: 10,\n            step: ActivateSteps.ACTIVATING,\n            email: \"\"\n        };\n    }\n    componentDidMount() {\n        const { search } = this.props.location;\n        Activate({ tokenSearch: search })\n            .then(resp => {\n            if (resp) {\n                this.setState({\n                    step: ActivateSteps.ACTIVATED\n                });\n                const that = this;\n                setInterval(function () {\n                    that.setState({\n                        timing: that.state.timing - 1\n                    });\n                }, 1000);\n            }\n            else {\n                throw new Error(\"\");\n            }\n        })\n            .catch(() => {\n            Message({\n                message: \"账户激活失败, 您的激活链接已过期或无效\",\n                type: \"error\"\n            });\n            this.setState({\n                step: ActivateSteps.ACTIVATE_FAILED\n            });\n        });\n    }\n    componentDidUpdate() {\n        const { timing } = this.state;\n        if (timing <= 0 && typeof window !== \"undefined\") {\n            window.location.href = \"/\";\n        }\n    }\n    render() {\n        const meta = {\n            title: \"账户激活-Eleun Forum-Web development community,WordPress,PHP,Java,JavaScript\",\n            description: \"I am a description, and I can create multiple tags\",\n            meta: {\n                charset: \"utf-8\",\n                name: {\n                    keywords: \"Eleun,forum,wordpress,php,java,javascript,react\"\n                }\n            }\n        };\n        return (React.createElement(\"div\", { className: styles.activationView },\n            React.createElement(DocumentMeta, Object.assign({}, meta)),\n            React.createElement(\"div\", { className: ClassNames(\"container\", [styles.container]) },\n                React.createElement(\"h1\", null, \"\\u8D26\\u6237\\u6FC0\\u6D3B\"),\n                this.renderActivatingStep(),\n                this.renderActivatedStep(),\n                this.renderActivateFailStep(),\n                this.renderReActivateStep())));\n    }\n}\nconst ActivationViewWithRouter = withRouter(ActivationView);\nexport default ActivationViewWithRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/views/activation/index.tsx","// removed by extract-text-webpack-plugin\nmodule.exports = {\"activationView\":\"__2sjBU\",\"container\":\"__2-g1p\",\"content\":\"__3BORl\",\"activating\":\"__o5IRt\",\"activated\":\"__3fcij\",\"timing\":\"__3g1jb\",\"activateFailed\":\"__1GYF1\",\"reActivate\":\"__R8Br_\",\"emailInput\":\"__25YuQ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shared/views/activation/styles/index.less\n// module id = d96U\n// module chunks = 6","\"use strict\";\nexports.__esModule = true;\nexports.isEmail = function (email) {\n    email = email ? email.toString() : \"\";\n    var reg = new RegExp(/[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}/);\n    return reg.test(email);\n};\nexports.lowerCaseFirst = function (str) {\n    if (!str) {\n        return str;\n    }\n    return str[0].toLowerCase() + str.slice(1);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/utils/TextKit.js","module.exports = (__webpack_require__(\"ILXe\"))(740);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ../node_modules/axios/index.js from dll-reference venders_ebc95eaf\n// module id = mtWM\n// module chunks = 0 1 2 3 4 5 6 7 8"],"sourceRoot":""}